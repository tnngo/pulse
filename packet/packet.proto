syntax = "proto3";
package packet;

option go_package = "packet";

enum Type {
    // Unknown reserved.
    Unknown1 = 0;
    // Connect client request to connect to Server.
    Connect = 1;
    // ConnAck connect Acknowledgment.
    ConnAck = 2;
    // Ping client sends a heartbeat to the server.
    Ping = 3;
    // Pong server responds to the client heartbeat
    Pong = 4;

    // Body msg content.
    Body = 99;
}

// AuthMode Type = Connect
enum AuthMode {
    // PULSE default encryption method.
    // Base64(Hmac+Sha1)
    HmacSha1 = 0;
    Not = 99;
}

// Packet packet message structureã€‚
message Packet {
    /** Basic header field. Begin**/
    // Type packet type
    Type type = 1;
    // Udid Unique identification of device terminal.
    string udid = 2;
    // AppName Sometimes the same type of device will have different business scenarios, 
    // so the applications in the device will be named differently.
    string app_name = 3;
    /** Basic header field. End**/

    /** Auth. Begin**/
    AuthMode auth_mode = 50;
    string secret = 51;
    /** Auth. End**/

    /** Msg. Begin**/
    string route_group = 95;
    int32 route_id = 96;
    string request_id = 97;
    string local_addr = 98;
    bytes body = 99;
    /** Msg. End**/
}